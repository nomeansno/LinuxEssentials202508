# Ãœbungen: Benutzer anlegen unter Linux mit `useradd`

>[!NOTE]
> SÃ¤mtliche fÃ¼r die Ãœbungen nÃ¶tigen Informationen sollten in der Manpage von `useradd` zu finden sein. Falls nicht direkt, schaut doch mal ganz unten in die `SEE ALSO` Sektion...

## Ãœbung 1: Einfachen Benutzer anlegen
Legt einen neuen Benutzer `someuser` ohne weitere Optionen an und prÃ¼ft, was passiert.

ğŸ”¹ **Fragen:**
- Wurde das Home-Verzeichnis erstellt?
- KÃ¶nnt ihr euch als dieser Benutzer anmelden (vorausgesetzt, ihr seit nicht `root`)?
- Was steht in `/etc/passwd` und `/etc/shadow` fÃ¼r diesen Benutzer?

## Ãœbung 2: Benutzer mit Home-Verzeichnis anlegen
Legt einen Benutzer `karlos` so an, dass automatisch ein Heimatverzeichnis mit gleichem Namen wie der User angelegt wird, welches zusÃ¤tzlich die "Standarddateien" aus dem *Skeletonverzeichnis* enthÃ¤lt.

ğŸ”¹ **Fragen:**
- Wo befindet sich das Home-Verzeichnis?
- Welche Dateien sind darin enthalten?
- Wo kommen diese Datein her? Aus welchem Verzeichnis?
- Wie kÃ¶nnte man dafÃ¼r sorgen, dass alle auf diese Weise neu angelegten User zusÃ¤tzlich die Datei `WELCOME.md` in ihrem Heimatverzeichnis haben?

## Ãœbung 3: Benutzer mit individuellem Home-Verzeichnis
Einen Benutzer `indie` mit einem Home-Verzeichnis mit Standarddateien anlegen, das unter `/srv` und nicht unter `/home` liegt.

ğŸ”¹ **Fragen:**
- Was passiert, wenn man sich (also `root`) mit `su - indie` anmeldet?

## Ãœbung 4: Benutzer mit BASH als Login-Shell anlegen
Benutzer `zzz` mit der ZSH als Login-Shell anlegen. DafÃ¼r mÃ¼sst ihr zuerst die ZSH installieren (`apt install zsh`).

ğŸ”¹ **Fragen:**
- Welche Shell wird standardmÃ¤ÃŸig verwendet, wenn keine Shell angegeben wird?
- Wie kann `zzz` die Shell auf `bash` Ã¤ndern? Oder muss das zwingend `root` Ã¼bernehmen?

## Ãœbung 5: Benutzer mit Kommentar (GECOS-Feld) anlegen
Beim Anlegen eines Benutzers `karla` zusÃ¤tzlich die Informationen `Karla Testara, Abteilung Testing` im GECOS-Feld speichern.

ğŸ”¹ **Fragen:**
- Wo wird diese Information gespeichert?
- Wie kann man sie spÃ¤ter Ã¤ndern?

## Ãœbung 6: Ein Passwort fÃ¼r den Benutzer setzen
Sorgt nachtrÃ¤glich dafÃ¼r, dass ihr ein Passwort fÃ¼r einen der neu angelegten Benutzer setzt.

ğŸ”¹ **Fragen:**
- Geht das auch direkt mit dem Kommando `useradd`? Oder brauchen wir dazu ein anderes Kommando?

## Ãœbung 7: Benutzer einer bestimmten Gruppe zuweisen
Legt einen Benutzer `gamie` an und weist ihn direkt der Gruppe `games` zu.

ğŸ”¹ **Fragen:**
- Wie kann Ã¼berprÃ¼ft werden, ob der Benutzer in der Gruppe ist?
- Was ist der Unterschied zwischen `-G` und `-g`?

## Ãœbung 8: Benutzer sicher entfernen
Den Benutzer `karlos` samt Home-Verzeichnis lÃ¶schen.

ğŸ”¹ **Fragen:**
- Was passiert mit `/home/karlos`?
- Was passiert mit Dateien des Users, die nicht unter `/home/karlos` liegen?

## Ãœbung 9: Benutzer mit bestimmter Benutzer-ID (UID) anlegen
Eine feste UID (`1500`) fÃ¼r den neu angelegten Benutzer `fifteenhundred` bestimmen.

ğŸ”¹ **Fragen:**
- Welche UID hat ein neuer Benutzer ohne diese Option?

## Ãœbung 10: Benutzer mit Ablaufdatum erstellen
Einen Benutzer `iamleaving` anlegen, dessen Konto am 31.12.2025 ablÃ¤uft.

ğŸ”¹ **Fragen:**
- Wo kann das Ablaufdatum Ã¼berprÃ¼ft werden?
- Was passiert nach dem Ablaufdatum?

## Ãœbung 11: Benutzer mit `adduser` anlegen
Einen neuen Benutzer `newbi` mit dem Kommando `adduser` anlegen.

ğŸ”¹ **Fragen:**
- Was ist der Unterschied zur Verwendung des Kommandos `useradd`?
- Warum lernen wir nicht einfach nur die Verwendung von `adduser`?

## Ãœbung 12: "Vollwertigen" Benutzer anlegen
Einen neuen Benutzer so anlegen, dass er ein Heimatverzeichnis mit Standarddateien erhÃ¤lt, im Kommentarfeld sein Vor- und Nachname eingetragen ist, er die BASH als Login Shell nutzt und ein Passwort erhÃ¤lt.

ğŸ”¹ **Fragen:**
* Wie kÃ¶nnte man vorgehen, um einerseits einen neuen Benutzer mit Passwort anzulegen, diesen Benutzer bei der ersten Anmeldung aber dazu zu bringen, dass Passwort zu Ã¤ndern, so dass wir nachtrÃ¤glich keine Kenntnis Ã¼ber das Passwort des Benutzer haben?

## Ãœbung 13: Verwendete Dateien
Mal angenommen, ihr habt weder das Kommando `useradd`, noch `adduser` zur VerfÃ¼gung, jedoch einen Texteditor, zufÃ¤lligerweise einen gesaltenen Passworthash und Root-Rechte. 

KÃ¶nntet ihr auch so einen vollwertigen Benutzeraccount erstellen?

Macht euch Gedanken, welche Dateien bei der Erstellung eines Benutzers editiert werden und probiert es doch einfach mal aus.

Tipp1: Als Passwort-Hash kÃ¶nnt ihr ja mal versuchen, einen bereits vorhandenen zu kopieren oder so...

Tipp2: Oder ihr erstellt euch einen mit `openssl passwd -6`. ErklÃ¤rung: Die Option `-6` steht fÃ¼r SHA-512, es wird ein zufÃ¤lliger Salt erzeugt und ihr werdet interaktiv nach einem Passwort gefragt.
